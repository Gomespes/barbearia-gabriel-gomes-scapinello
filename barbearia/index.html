<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Raspa & Brilha Barbearia</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>

  <hr>

  <div class="container" style="background-color: silver;"><!--Navbar-->
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <a class="nav-link" href="empresa.html">Empresa</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="index.html">HOME</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="contato.html">Contato</a>
      </li>
    </ul>
  </div>

  <hr>


  <div class="container" style="background-color: aqua;"><!-- Logo-->
    <div class="row align-items-center">
      <div class="col-lg-3 text-center">
        <img src="images/logo.png" alt="Raspa & Brilha Barbearia" class="img-fluid">
      </div>

      <div class="col-lg-9"><!--Carousel -->
        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
              aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
              aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
              aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="images/cabelo/cabelo1.jpg" class="d-block w-25" alt="Corte Cabelo">
              <div class="carousel-caption d-none d-md-block" style="color: black;">
                <h5>Promoção Corte de Cabelo</h5>
                <p>10% OFF para o primeiro agendamento</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="images/cabelo/barba1.jpg" class="d-block w-25" alt="Corte Barba">
              <div class="carousel-caption d-none d-md-block" style="color: black;">
                <h5>Promoção Corte de Barba</h5>
                <p>20% OFF no pacote com sombrancelha incluso</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="images/cabelo/pintar-cabelo.jpg" class="d-block w-25" alt="Pintar Cabelo">
              <div class="carousel-caption d-none d-md-block" style="color: black;">
                <h5>Promoção Colorir o Cabelo no Final do Mês</h5>
                <p>25% OFF para colorir cabelo em escolha serviço completo</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="container"><!--Serviços-->
    <h1>Serviços</h1>
    <div class="row g-4">

      <div class="col-lg-4">
        <div class="card h-100">
          <img src="images/cabelo/cabelo1.jpg" class="card-img-top" alt="Corte Cabelo">
          <div class="card-body">
            <h5 class="card-title">Corte de Cabelo</h5>
            <p class="card-text">Oferecemos 3 cortes exclusivos ajustáveis pelo gosto do cliente por R$30,00.</p>
            <a href="servico1.html" class="btn btn-primary">Fazer Pacote/Agendamento</a>
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="card h-100">
          <img src="images/cabelo/barba1.jpg" class="card-img-top" alt="Corte Barba">
          <div class="card-body">
            <h5 class="card-title">Corte de Barba</h5>
            <p class="card-text">Oferecemos corte de barba com sombrancelha inclusa por R$25,00.</p>
            <a href="servico2.html" class="btn btn-primary">Fazer Pacote/Agendamento</a>
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="card h-100">
          <img src="images/cabelo/pintar-cabelo.jpg" class="card-img-top" alt="Colorir Cabelo">
          <div class="card-body">
            <h5 class="card-title">Colorir o Cabelo</h5>
            <p class="card-text">Colorações masculinas com tonalidades variadas. Valor mínimo R$100,00.</p>
            <a href="servico3.html" class="btn btn-primary">Fazer Pacote/Agendamento</a>
          </div>
        </div>
      </div>
      <a href="orcamentos.html" class="btn btn-danger">Orçamentos</a>
    </div>
  </div>
  <hr>

  <div class="container"><!--Avaliações/Depoimentos-->
  <h3 class="text-center mb-4">Avaliações dos Clientes</h3>

  <div class="mt-5">
    <table class="table">
      <thead>
        <tr>
          <th width="100">Cliente</th>
          <th width="100">Nota</th>
          <th>Depoimento</th>
        </tr>
      </thead>
      <tbody id="tabela"></tbody>
    </table>
  </div>

</div>
  <hr>
  <div class="container"><!--Inserir depoimentos-->
    <div class="container">
      <h3>Avalie nosso atendimento aqui</h3>
      <form action="javascript:inserir();" method="post">
        <div class="form-group">
          <label>Nome</label>
          <input type="text" id="nomeCliente" class="form-control">
        </div>
        <div class="form-group">
          <label>Nota</label>
          <input type="number" min="0" max="10" id="nota" class="form-control">
        </div>
        <div class="form-group">
          <label>Descrição</label>
          <textarea id="descricao" class="form-control"></textarea>
        </div>
        <br>
        <button type="submit" class="btn btn-success">Enviar</button>
      </form>

    </div>
  </div>

  <hr>
</body>

<script>
  async function inserir() {
    let nome = document.getElementById('nomeCliente').value.trim();
    let nota = document.getElementById('nota').value.trim();
    let descricao = document.getElementById('descricao').value.trim();

    if (nome == "" || nota == "" || descricao == "") {
      alert("Preencha todos os campos!");
      return;
    }

    let url = `./back-php/inserir-depoimento.php?nomeCliente=${nome}&nota=${nota}&descricao=${descricao}`;
    await fetch(url);

    listar();
    document.getElementById('nomeCliente').value = "";
    document.getElementById('nota').value = "";
    document.getElementById('descricao').value = "";
  }

  async function listar() {
    let url = `./back-php/listar-depoimento.php`;
    let resposta = await fetch(url);
    let dados = await resposta.json();
    let tagPai = document.getElementById('tabela');
    let filhos = "";
    for (let item of dados) {
      filhos += `<tr>
              <td>${item.nomeCliente}</td>
              <td>${item.nota} ⭐</td>
              <td>${item.descricao}</td>
            </tr>`;
    }
    tagPai.innerHTML = filhos;
  }

  listar(); 
</script>


<footer>
  <div class="" style="background-color: silver;">
    <p style="color: black;">Desenvolvedor: Gabriel Gomes Scapinello</p>
  </div>
</footer>

</html>